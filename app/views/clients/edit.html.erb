<h1>Edit profile</h1>

<%= form_with scope: :client, url: "/clients/:id", method: :patch, class: 'edit-profile' do | form | %>
  <%= form.hidden_field :client_id, value: @client.id %>
  <div>
    <%= form.label :first_name, "First name:" %>
    <%= form.text_field :first_name, placeholder: @client.first_name %>
  </div>
  <div>
    <%= form.label :last_name, "Last name:" %>
    <%= form.text_field :last_name, placeholder: @client.last_name %>
  </div>
  <div>
    <%= form.label :phone, "Phone #:" %>
    <%= form.text_field :phone, placeholder: @client.phone %>
  </div>
  <div>
    <%= form.label :email, "Email:" %>
    <%= form.text_field :email, placeholder: @client.email %>
  </div>
  <%= form.submit "Save" %>
<% end %>

<h2>SMS consent</h2>
<%= form_with scope: :client, url: "/clients/:id", method: :patch do | form | %>
  <%= form.hidden_field :client_id, value: @client.id %>
  <div class="sms-consent">
    <%= form.check_box :sms_consent, checked: @client.sms_consent %>
    <br />
    <%= form.label :sms_consent, "By checking this box, I consent to receiving automated appointment and account reminders via SMS (text messages)" %>
  </div>
  <p><b>You don't need to consent to automated SMS messages to schedule hypnosis.</b> If you leave this box unchecked, you won't receive automated appointment and account reminders, but your service will be otherwise unaffected.</p>
  <p style="font-size:11px;">Message and data rates may apply. Reply STOP to opt out or HELP for more information at any time. Psychedelic Hypnosis will never sell your number or spam you with unwanted sales offers. See <%= link_to 'privacy policy', privacy_path %> for more details.</p>
  <%= form.submit "Save" %>
<% end %>

<h2>Change password</h2>

<%= form_with scope: :client, url: "/change_password/:id", method: :patch, class: 'edit-profile' do | form | %>
  <%= form.hidden_field :client_id, value: @client.id %>
  <div>
    <%= form.label :password, "Old password:" %>
    <%= form.password_field :old_password, required: true %>
  </div>
  <div>
    <%= form.label :password, "New password:" %>
    <%= form.password_field :password, required: true %>
  </div>
  <div>
    <%= form.label :password_confirmation, "Confirm new password:" %>
    <%= form.password_field :password_confirmation, required: true %>
  </div>
  <%= form.submit "Update" %>
<% end %>